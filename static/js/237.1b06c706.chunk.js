"use strict";(self.webpackChunkfigli_book_app=self.webpackChunkfigli_book_app||[]).push([[237],{4237:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var o=t(1413),r=t(885),i=t(2791),a=t(6871),l=t(9434),s=t(8472),c=t(1182),u=t(2982),d=t(7606),f=t(5985),m=t(184),h=function(e){e.booksByFilter;var n=e.setBooksByFilter,t=(0,i.useState)(40),a=(0,r.Z)(t,2),s=a[0],h=a[1],b=(0,i.useState)(""),p=(0,r.Z)(b,2),x=p[0],k=p[1],g=(0,l.v9)(c.x),v={container:function(e){return(0,o.Z)((0,o.Z)({},e),{},{border:"solid 2px #99876f",borderRadius:15,background:"#ebeddf"})},control:function(e){return(0,o.Z)((0,o.Z)({},e),{},{marginTop:"1rem",marginBottom:"1rem",border:"none",boxShadow:"none"})},indicatorSeparator:function(e){return(0,o.Z)((0,o.Z)({},e),{},{marginTop:0,marginBottom:0})}};return(0,m.jsxs)("div",{className:"select-box row",children:[(0,m.jsx)("div",{className:"filter-box col  ",children:(0,m.jsx)(d.ZP,{styles:v,className:"react-select-container  ",placeholder:"40 by default",defaultValue:s,onChange:h,options:[{value:10,label:"10 books per page"},{value:15,label:"15 books per page"},{value:20,label:"20 books per page"},{value:40,label:"40 books per page"}],theme:function(e){return(0,o.Z)((0,o.Z)({},e),{},{borderRadius:"10px",colors:(0,o.Z)((0,o.Z)({},e.colors),{},{primary25:"#99876f",primary:"#827717 ",neutral0:"#ebeddf"})})}})}),(0,m.jsx)("div",{className:" search-box col s8",children:(0,m.jsxs)("div",{className:"input-field col s12",children:[(0,m.jsx)("input",{type:"search",id:"search-field",placeholder:"Search in titles...",value:x,onChange:function(e){return k(e.target.value)}}),(0,m.jsx)("button",{className:"btn lime lighten-1",type:"submit",onClick:function(){return function(e){var t=(0,u.Z)(g);40===s?(t.length=s,x&&(t=g.filter((function(e){return e.volumeInfo.title.toLowerCase().includes(x)})))):s.value&&(t.length=s.value,x&&(t=g.filter((function(e){return e.volumeInfo.title.toLowerCase().includes(x)})))),n(t),(0,f.Am)("Filtered ".concat(t.length," ").concat(t.length>1?"books":"book"))}()},style:{position:"absolute",top:"9px",right:"13px"},children:"Set Filters"})]})})]})},b=t(7231),p=t(7221),x=t(5759),k=t(4119),g=function(e){var n=e.book,t=(0,a.s0)(),o=(0,l.I0)(),r=(0,l.v9)(c.x),i=(0,l.v9)(k.J).map((function(e){return e.id})),s=n.id,u=function(e,r){o((0,x.P)(e,r)),t("/book/".concat(n.id))};return(0,m.jsxs)("div",{className:"card ",children:[(0,m.jsxs)("div",{className:"card-image",children:[n.volumeInfo.imageLinks?(0,m.jsx)("img",{className:"activator",src:n.volumeInfo.imageLinks.thumbnail,alt:"img",onClick:function(){return u(r,s)}}):(0,m.jsx)("img",{className:"activator",src:"https://via.placeholder.com/300x450?text=ooops",alt:"img",onClick:function(){return u(r,s)}}),(0,m.jsx)("button",{className:"btn-floating halfway-fab waves-effect waves-light teal lighten-1",onClick:function(){return function(e){i.includes(e.id)?f.Am.error("Already in the BookShelf!"):(o((0,p.Y)(e)),(0,f.Am)("Book added to shelf!"))}(n)},children:(0,m.jsx)("i",{className:"material-icons lime lighten-1 ",children:"add"})})]}),(0,m.jsxs)("div",{className:"card-content",children:[(0,m.jsx)("span",{className:"card-title",children:n.volumeInfo.title}),(0,m.jsxs)("p",{children:[n.volumeInfo.description?n.volumeInfo.description.slice(0,100):"ooopsy","..."]})]})]})},v=function(){var e=(0,i.useState)([]),n=(0,r.Z)(e,2),t=n[0],u=n[1],d=(0,i.useState)([]),p=(0,r.Z)(d,2),x=p[0],k=p[1],v=(0,l.v9)(c.x),j=(0,a.s0)(),y=v.map((function(e){return e.volumeInfo})),N=x.map((function(e){return e.volumeInfo})),Z={filename:"Report.csv",headers:[{label:"Name",key:"title"},{label:"Author",key:"authors"},{label:"Publisher",key:"publisher"},{label:"Published Date",key:"publishedDate"},{label:"Categories",key:"categories"},{label:"Page Count",key:"pageCount"},{label:"Description",key:"description"}],data:t};return(0,i.useEffect)((function(){v.length>0&&(0,f.Am)("I showed ".concat(v.length," books"))}),[v]),(0,i.useEffect)((function(){0===x.length?u(y):u(N)}),[x,v]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"container content","data-testid":"Books",children:x.length>0?(0,m.jsx)(m.Fragment,{children:x.length?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"csv-box",children:[(0,m.jsx)("button",{className:"btn lime lighten-1 backBtn",onClick:function(){return j(-1)},children:"Go Back"}),(0,m.jsx)(s.CSVLink,(0,o.Z)((0,o.Z)({},Z),{},{separator:";",className:"btn lime lighten-1",children:"Export to CSV"}))]}),(0,m.jsx)(h,{booksByFilter:x,setBooksByFilter:k}),(0,m.jsx)("div",{className:"books",children:x.map((function(e){return(0,m.jsx)(g,{book:e},e.id)}))})]}):(0,m.jsx)(b.Z,{})}):(0,m.jsx)(m.Fragment,{children:v.length?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"csv-box",children:[(0,m.jsx)("button",{className:"btn lime lighten-1 backBtn",onClick:function(){return j(-1)},children:"Go Back"}),(0,m.jsx)(s.CSVLink,(0,o.Z)((0,o.Z)({},Z),{},{separator:";",className:"btn lime lighten-1",children:"Export to CSV"}))]}),(0,m.jsx)(h,{booksByFilter:x,setBooksByFilter:k}),(0,m.jsx)("div",{className:"books",children:v.map((function(e){return(0,m.jsx)(g,{book:e},e.id)}))})]}):(0,m.jsx)(b.Z,{})})})})},j=function(){return(0,m.jsx)(v,{})}},5759:function(e,n,t){t.d(n,{P:function(){return r}});var o=t(7148),r=function(e,n){return{type:o.s,payload:{books:e,id:n}}}},7221:function(e,n,t){t.d(n,{Y:function(){return r},q:function(){return i}});var o=t(3037),r=function(e){return{type:o.X,payload:{book:e}}},i=function(e){return{type:o.D,payload:{shelfItem:e}}}},1182:function(e,n,t){t.d(n,{x:function(){return o}});var o=function(e){return e.bookReducer.books}},4119:function(e,n,t){t.d(n,{J:function(){return o}});var o=function(e){return e.shelfReducer.shelf}}}]);
//# sourceMappingURL=237.1b06c706.chunk.js.map